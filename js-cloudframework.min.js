!function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var r=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=r,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var o in r)t[o]=r[o]}return t}function t(r){function o(t,n,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},o.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{s=JSON.stringify(n),/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var u="";for(var d in i)i[d]&&(u+="; "+d,!0!==i[d]&&(u+="="+i[d]));return document.cookie=t+"="+n+u}t||(s={});for(var c=document.cookie?document.cookie.split("; "):[],l=0;l<c.length;l++){var f=c[l].split("="),h=f.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var p=f[0].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(h=r.read?r.read(h,p):r(h,p)||h.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===p){s=h;break}t||(s[p]=h)}catch(e){}}return s}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,r){o(t,"",e(r,{expires:-1}))},o.withConverter=t,o}return t(function(){})}),function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function a(e){var t=new FileReader,r=s(t);return t.readAsArrayBuffer(e),r}function u(e){var t=new FileReader,r=s(t);return t.readAsText(e),r}function d(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&v(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!C(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var r=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function y(e){var t=new n;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}}),t}function b(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},C=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,o){e=t(e),o=r(o);var n=this.map[e];this.map[e]=n?n+","+o:o},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,o){this.map[t(e)]=r(o)},n.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),o(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),o(e)},g.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},l.call(h.prototype),l.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];b.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=h,e.Response=b,e.fetch=function(e,t){return new Promise(function(r,o){var n=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new b(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(n.method,n.url,!0),"include"===n.credentials&&(i.withCredentials=!0),"responseType"in i&&g.blob&&(i.responseType="blob"),n.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===n._bodyInit?null:n._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),Core=new function(){this.version="1.0",this.debug=!1,this.params=function(e){var t=window.location.pathname.split("/");return t.shift(),void 0===e?t:t[e]?t[e]:null},this.formParams=function(e){if(void 0===e){var t=new RegExp("[?&](.*)").exec(window.location.href);return null==t?"":t[1]||0}var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null!=(t=new RegExp("[?&]("+e+")[&#$]*").exec(window.location.href))||null:t[1]||0},this.log=new function(){this.debug=!1,this.type="console",this.printDebug=function(e,t,r){Core.log.debug&&Core.log.print(e,t,r)},this.print=function(e,t,r){if(void 0===e&&(e="print:"),void 0===t&&(t=!1),"console"==Core.log.type)"object"==typeof e&&(e=JSON.parse(JSON.stringify(e))),"object"==typeof t&&(t=JSON.parse(JSON.stringify(t))),console.log(e),t&&console.log(t);else{"object"==typeof e&&(e=JSON.stringify(e)),"object"==typeof t&&(t=JSON.stringify(t)),void 0===r&&(r=!1);var o=e;t&&(o+=t),r&&(o+="\n-----------\n"),null!=(element=document.getElementById(Core.log.type))?element.innerHTML=element.innerHTML+o:(console.log("Core.log.type values "+Core.log.type+" and it does not exist as a id dom"),console.log(o))}}},this.error=new function(){this.add=function(e,t,r){void 0===e?e="[Core.error]:":"string"==typeof e&&(e="[Core.error]: "+e),Core.log.print(e,t,!0)}},this.request=new function(){this.token="",this.key="",this.headers={},this.base="https://cloudframework.com/h/api",this.serialize=function(e,t){var r,o=[];for(r in e)if(e.hasOwnProperty(r)){var n=t?t+"["+r+"]":r,i=e[r];o.push(null!==i&&"object"==typeof i?Core.request.serialize(i,n):encodeURIComponent(n)+"="+encodeURIComponent(i))}return o.join("&")},this.call=function(e,t,r){if(void 0===e.url)return Core.error.add('request.call(payload,..): missing payload["url"].');if(void 0===e.method)return Core.error.add('request.call(payload,..): missing payload["method"].');void 0===e.contentType&&(e.contentType="json"),void 0===e.responseType&&(e.responseType="json"),void 0!==t&&null!=t||(t=function(e){console.log(e)}),void 0!==r&&null!=r||(r=t),void 0===e.headers&&(e.headers={});for(var o in Core.request.headers)void 0===e.headers[o]&&(e.headers[o]=Core.request.headers[o]);void 0!==Core.request.token&&""!=Core.request.token&&(e.headers["X-DS-TOKEN"]=Core.request.token),void 0!==Core.request.key&&""!=Core.request.key&&(e.headers["X-WEB-KEY"]=Core.request.key);var n=e.url;if(0!==n.search("http")&&(n=Core.request.base+n),void 0===e.mode&&(e.mode="cors"),void 0===e.credentials&&(e.credentials="none"),void 0===e.params&&(e.params={}),"GET"==e.method){e.body=null;var i="";Object.keys(e.params).length&&(i=Core.request.serialize(e.params)),i&&(-1==n.search("[?]")?n+="?":n+="&",n+=i)}else if("json"==e.contentType)e.headers["Content-Type"]="application/json",e.body=JSON.stringify(e.params);else{e.headers["Content-Type"]="application/x-www-form-urlencoded";var s=new FormData;for(var o in e.params)s.append(o,e.params[o]);e.body=s}Core.debug&&Core.log.printDebug("Core.request.call",e,!0),fetch(n,{method:e.method,headers:e.headers,mode:e.mode,credentials:e.credentials,body:e.body}).then(function(t){return Core.debug&&Core.log.printDebug("Core.request.call returning from: "+n,"Tranforming from: "+e.responseType,!0),"no-cors"==e.mode?t:"json"==e.responseType?t.json():t.text()}).then(function(e){t(e)}).catch(function(e){Core.error.add("[Error] request.call("+n+") "+e),r(e)})},this.get=function(e,t,r,o){Core.request.call({method:"GET",url:e,responseType:o},t,r)},this.addHeader=function(e,t){Core.debug&&Core.log.printDebug('Core.request.addHeader("'+e+'","'+t+'")'),Core.request.headers[e]=t},this.removeHeader=function(e){Core.debug&&Core.log.printDebug('Core.request.removeHeader("'+e+'")'),delete Core.request.headers[e]},this.resetHeader=function(){Core.debug&&Core.log.printDebug("Core.request.resetHeader()"),Core.request.headers={}}},this.cache=new function(){this.isAvailable=!0,"undefined"==typeof Storage&&(Core.error.add("Cache is not supported in this browser"),this.available=!1),this.set=function(e,t){Core.cache.isAvailable&&localStorage.setItem(e,t)},this.get=function(e,t){Core.cache.isAvailable&&localStorage.getItem(e)},this.delete=function(e){Core.cache.isAvailable&&localStorage.removeItem(e)}},this.cookies=new function(){this.path={path:"/"},this.remove=function(e){void 0!==e&&(Cookies.remove(e,Core.cookies.path),Core.debug&&Core.log.printDebug("removed cookie "+e))},this.set=function(e,t){Cookies.set(e,t,Core.cookies.path),Core.debug&&Core.log.printDebug("set cookie "+e)},this.get=function(e){return Cookies.get(e)}},this.services=new function(){var e={};this.reset=function(t){Core.log.printDebug("Bloombees services: reset."+t),void 0!==e[t]&&(e[t]={config:e[t].config})},this.set=function(t,r){return e[t]=[],void 0===r.url?Core.error.add('Core.services.set("'+t+'",config): missing config["url"].'):void 0===r.method?Core.error.add('Core.services.set("'+t+'",config): missing config["method"].'):(e[t].config=r,void(Core.debug&&Core.log.printDebug('Core.services.set("'+t+'","'+JSON.stringify(r)+'"): done')))},this.bind=function(t,r){return void 0===e[t]?Core.error.add('service.bind("'+t+'",..) does not exist. Use Core.service.set to initialize'):void 0===e[t].config?Core.error.add('service.bind("'+t+'",..) does not exist. Use Core.service.set to initialize'):(Core.debug&&Core.log.printDebug("Binding to '"+t+"':"),void 0===t&&(t="undefined"),void 0===r&&(r=function(e){Core.log.print("Core.services.bind automatic created function: "+t,e)}),void 0===e[t]&&(e[t]=[]),void 0!==e[t].data?(Core.debug&&Core.log.printDebug('service.bind("'+t+'",..) returning data from previous call'),void r(e[t].data)):(void 0===e[t].callbacks&&(e[t].callbacks=[]),e[t].callbacks.push(r),Core.debug&&Core.log.printDebug("Bingding callback"),void(void 0===e[t].function&&(e[t].function=function(r){Core.debug&&Core.log.printDebug("Receiving response from: "+t,"",!0),e[t].data=r;for(var o=e[t].callbacks.length,n=0;n<o;n++)e[t].callbacks[n](r)},Core.request.call(e[t].config,e[t].function)))))}},this.dom=new function(){this.element=function(e){var t=document.getElementById(e);return null==t?(Core.log.print("'"+e+"' does not exist in any 'id' attribute of the dom's elements"),null):t},this.setHTML=function(e,t,r){Core.dom._setHTML(e,t)},this.addHTML=function(e,t){Core.dom._setHTML(e,t,!0)},this._setHTML=function(e,t,r){(element=Core.dom.element(e))&&(element.innerHTML=void 0!==r?element.innerHTML+t:t)}},this.config=new function(){this.config=null,null==this.config&&(body=document.getElementsByTagName("BODY")[0].getAttribute("core-config"))?this.config=JSON.parse(body):this.config={},this.get=function(e){return Core.debug&&Core.log.printDebug('Core.debug.get("'+e+'")',"",!0),void 0===e?Core.config.config:Core.config.config[e]?Core.config.config[e]:null},this.set=function(e,t){return Core.debug&&Core.log.printDebug('Core.debug.set("'+e+'","'+t+'")',"",!0),Core.config.config[e]=t,!0}},this.bind=function(e,t,r){void 0!==t&&null!=t||(t=function(e){console.log(e)}),void 0!==r&&null!=r||(r=t);var o=[];"function"==typeof e&&(e=[e]);for(k in e)o[k]=new Promise(e[k]);Promise.all(o).then(function(){t({success:!0})},function(){r({success:!1})})},this.fileInput=function(e,t){var r={length:0,error:!1,errorMsg:"",params:[],files:[]};if("object"==typeof e)if(e.files.length)for(k=0;k<e.files.length;k++)r.params["files["+k+"]"]=e.files[k],r.files[k]={name:e.files[k].name,size:e.files[k].size,type:e.files[k].type,lastModified:e.files[k].lastModified,lastModifiedDate:e.files[k].lastModifiedDate};else r.error=!0,r.errorMsg="Not found files";return r}};